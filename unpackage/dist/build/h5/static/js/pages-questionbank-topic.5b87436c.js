(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-questionbank-topic"],{2003:function(t,e,n){var i=n("89da");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("93bcf4b6",i,!0,{sourceMap:!1,shadowMode:!1})},"2e40":function(t,e,n){"use strict";n.r(e);var i=n("44db"),a=n("4296");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("ee77");var s,c=n("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"7a92461a",null,!1,i["a"],s);e["default"]=r.exports},4296:function(t,e,n){"use strict";n.r(e);var i=n("91c0"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"44db":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={Head:n("eb8b").default,subject:n("9613").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"topic"},[n("Head",{attrs:{title:"章节刷题"},on:{navigateBack:function(e){arguments[0]=e=t.$handleEvent(e),t.navigateBack.apply(void 0,arguments)}},scopedSlots:t._u([{key:"right",fn:function(){return[n("v-uni-view",{staticClass:"topic-sizeBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nextTopic.apply(void 0,arguments)}}},[t._v("下一套题")])]},proxy:!0}])}),n("v-uni-view",{staticClass:"topic-concent",on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.start.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.end.apply(void 0,arguments)}}},[n("v-uni-swiper",{staticStyle:{height:"100%"},attrs:{duration:500,"disable-touch":"false",current:t.current},on:{transition:function(e){arguments[0]=e=t.$handleEvent(e),t.transition.apply(void 0,arguments)},change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},t._l(t.ExercisessData,(function(e,i){return n("v-uni-swiper-item",{key:e.id},[n("v-uni-view",{staticClass:"swiper-item"},[n("subject",{attrs:{ExercisessContent:e,Count:t.Count,name:t.Name,Index:i},on:{istouch:function(e){arguments[0]=e=t.$handleEvent(e),t.istouch.apply(void 0,arguments)}}})],1)],1)})),1)],1),n("v-uni-view",{staticClass:"topic-footer"},[n("v-uni-view",{staticClass:"topic-footer-l"},[n("v-uni-view",{staticClass:"topic-footer-l-icon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.collectBtn.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:t.isClose?t.collect:t.collect1,mode:""}})],1),n("v-uni-view",{staticClass:"topic-footer-l-txt"},[t._v("收藏")])],1),n("v-uni-view",{staticClass:"topic-footer-r"},[n("v-uni-text",[t._v(t._s(t.current+1))]),n("v-uni-text",[t._v("/")]),n("v-uni-text",[t._v(t._s(t.ExercisessData.length))])],1)],1)],1)},o=[]},"89da":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'.clearfix[data-v-7a92461a]:after,\n.clearfix[data-v-7a92461a]:before{content:"";display:table}.clearfix[data-v-7a92461a]:after{clear:both}.activeColor[data-v-7a92461a]{color:#db1f13!important}.integral-top[data-v-7a92461a] .integral-top-r{font-size:%?26?%;font-family:PingFang SC;font-weight:500;color:#666}.topic-concent[data-v-7a92461a]{width:100%;height:84vh;overflow:hidden}.topic-concent .swiper-item[data-v-7a92461a]{width:100%;height:100%}.topic-footer[data-v-7a92461a]{position:fixed;bottom:0;width:100%;height:%?98?%;background:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?40?%}.topic-footer-l[data-v-7a92461a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.topic-footer-l-icon[data-v-7a92461a]{width:%?42?%;height:%?42?%}.topic-footer-l-icon uni-image[data-v-7a92461a]{width:100%;height:100%}.topic-footer-l-txt[data-v-7a92461a]{margin-left:%?20?%;font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#333}.topic-footer-r uni-text[data-v-7a92461a]{font-size:%?30?%;font-family:PingFang SC;font-weight:500;color:#999}.topic-footer-r uni-text[data-v-7a92461a]:first-child{color:#db1f13}',""]),t.exports=e},"91c0":function(t,e,n){"use strict";var i=n("4ea4");n("4160"),n("fb6a"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=i(n("1da1")),o=i(n("5530")),s=n("1c7e3"),c=n("2f62"),r={data:function(){return{scrollLeft:0,current:0,swiperCurrent:0,ExercisessData:[],k_id:"",createtime:"",collectId:"",isClose:0,collect:"https://boxue-resource.oss-cn-shenzhen.aliyuncs.com/tie/collect.png",collect1:"https://boxue-resource.oss-cn-shenzhen.aliyuncs.com/tie/collect1.png",slide:!1,startData:{clientX:"",clientY:""},Count:0,MaxCount:0,countmax:0,Name:"",DataSubmit:[]}},watch:{current:function(t){var e=this;console.log("watch",t),console.log(this.ExercisessData),this.ExercisessData.forEach((function(n,i){i==t&&(e.isClose=n.isClose,e.k_id=n.id,e.createtime=n.createtime)}))},answerId:{handler:function(t){console.log("哈哈哈",t),this.getExercises()},immediate:!0}},onLoad:function(t){this.getName()},onShow:function(){console.log("current",this.current)},computed:(0,o.default)({},(0,c.mapState)("study",["topicData","answerId","answerCalssID","answerIndex"])),methods:(0,o.default)((0,o.default)({},(0,c.mapMutations)("study",["changeAnswerId","changeanswerIndex"])),{},{getExercises:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={token:uni.getStorageSync("token"),id:t.answerId},e.next=3,(0,s.getQuestions)(n);case 3:i=e.sent,console.log("练习题",i),t.ExercisessData=i.data,t.ExercisessData.forEach((function(e,n){0==n&&(t.isClose=e.isClose,t.k_id=e.id,t.createtime=e.createtime)}));case 7:case"end":return e.stop()}}),e)})))()},start:function(t){console.log("左",t),this.startData.clientX=t.changedTouches[0].clientX,this.startData.clientY=t.changedTouches[0].clientY},end:function(t){var e=t.changedTouches[0].clientX-this.startData.clientX,n=t.changedTouches[0].clientY-this.startData.clientY;n>50||n<-50?console.log("上下滑"):e>100?(console.log("右滑"),this.current>0&&(--this.current,this.slide=!0)):e<-100?(console.log("左滑"),this.slide&&this.ExercisessData.length-1>this.current&&++this.current,this.current>=this.countmax&&(this.slide=!1)):console.log("无效")},istouch:function(t,e,n){this.slide=t,++this.countmax,console.log("正确",e),console.log("错误",n),e?(++this.Count,this.DataSubmit.push({class_id:this.answerCalssID,k_id:this.answerId,q_id:this.k_id,create_time:this.createtime,type:3})):n&&(this.DataSubmit.push({class_id:this.answerCalssID,k_id:this.answerId,q_id:this.k_id,create_time:this.createtime,type:1}),this.MaxCount<this.Count&&(this.MaxCount=this.Count),this.Count=0),this.ExercisessData.length-1==this.current&&this.pushSumcount()},pushSumcount:function(){console.log(this.MaxCount);var t={token:uni.getStorageSync("token"),k_id:this.answerId,record:this.MaxCount};(0,s.bankAddRecord)(t).then((function(t){console.log(t)}))},transition:function(t){},change:function(t){console.log("change",t),this.current=t.detail.current},getName:function(){var t=this;this.topicData.forEach((function(e){e.id==t.answerId&&(t.Name=e.subject_name)}))},sumbitData:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var n,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.DataSubmit),n=t.ExercisessData.slice(t.DataSubmit.length,t.ExercisessData.length),n.forEach((function(e){t.DataSubmit.push({class_id:t.answerCalssID,k_id:t.answerId,q_id:e.id,create_time:e.createtime,type:2})})),console.log(t.DataSubmit),i=JSON.stringify(t.DataSubmit),a={token:uni.getStorageSync("token"),data:i},console.log(a),e.next=9,(0,s.addError)(a);case 9:o=e.sent,console.log("提交做题数据",o);case 11:case"end":return e.stop()}}),e)})))()},nextTopic:function(){var t=this;if(this.sumbitData(),this.topicData.length-1>this.answerIndex){var e=this.answerIndex;++e,this.changeanswerIndex(e)}else uni.showToast({title:"这是最后一套题",duration:2e3,icon:"none"});this.topicData.forEach((function(e,n){n==t.answerIndex&&t.changeAnswerId(e.id)})),this.getName()},collectBtn:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n={token:uni.getStorageSync("token"),class_id:e.answerCalssID,k_id:e.answerId,q_id:e.k_id},i={token:uni.getStorageSync("token"),id:e.k_id},0!=e.isClose){t.next=11;break}return console.log("收藏"),t.next=6,(0,s.bankAdd)(n);case 6:a=t.sent,console.log(a),0==a.code&&(e.isClose=1),t.next=18;break;case 11:if(1!=e.isClose){t.next=18;break}return console.log("取消收藏"),t.next=15,(0,s.bankDel)(i);case 15:o=t.sent,console.log(o),0==o.code&&(e.isClose=0);case 18:case"end":return t.stop()}}),t)})))()},navigateBack:function(){this.pushSumcount(),this.sumbitData(),uni.navigateBack()}})};e.default=r},ee77:function(t,e,n){"use strict";var i=n("2003"),a=n.n(i);a.a}}]);